{% extends 'home.html' %}

{% block main %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
    body {
        margin: 0;
        font-family: 'Poppins', sans-serif;
        background: skyblue;
        overflow-x: hidden;
        position: relative;
    }

    .bg-animation {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #2b6cb0, #4c51bf);
        z-index: -1;
        overflow: hidden;
    }

    .wave {
        position: absolute;
        bottom: 0;
        width: 200%;
        height: 100px;
        background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 88.7'%3E%3Cpath d='M800 56.9c-120 0-120 32-240 32S440 56.9 320 56.9 200 88.7 80 88.7 0 56.9 0 56.9V0h800z' fill='%23ffffff' opacity='0.3'/%3E%3C/svg%3E");
        background-size: 800px 88.7px;
        animation: wave 12s linear infinite;
    }

    .wave:nth-child(2) {
        bottom: 20px;
        opacity: 0.5;
        animation-duration: 15s;
    }

    @keyframes wave {
        0% { transform: translateX(0); }
        100% { transform: translateX(-800px); }
    }

    .hotel-card {
        border-radius: 12px;
        transition: 0.3s ease-in-out;
    }

    .hotel-card:hover {
        transform: scale(1.02);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
    }

    .hotel-img {
        height: 220px;
        object-fit: cover;
        border-radius: 12px 12px 0 0;
    }

    .btn-book {
        background-color: #2b6cb0;
        border: none;
        font-weight: 500;
    }

    .btn-book:hover {
        background-color: #1a4971;
    }

    .search-bar {
        background: #fff;
        padding: 20px;
        border-radius: 10px;
        margin-bottom: 2rem;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
</style>

<div class="bg-animation">
    <div class="wave"></div>
    <div class="wave"></div>
</div>

<main class="container py-5">
    <h1 style="
    margin-top: 70px;
    font-size: 2.5rem;
    font-weight: 700;
    color: #2b6cb0;
    text-align: center;
    font-family: 'Poppins', sans-serif;
    letter-spacing: 1px;
    text-shadow: 1px 1px 2px rgba(224, 209, 209, 0.1);
    ">
        Explore Top Hotels
    </h1>

    <div class="search-bar" style="margin-top: 70px;">
        <form action="{% url 'viewHotels' %}" method="post" class="row g-3">
            {% csrf_token %}
            <div class="col-md-9 col-12">
                <input type="text" class="form-control form-control-lg" name="Location" placeholder="Search location...">
            </div>
            <div class="col-md-3 col-12 d-grid">
                <button class="btn btn-book btn-lg text-white">Search</button>
            </div>
        </form>
    </div>

    {% if hotels %}
    <div class="row g-4">
        {% for i in hotels %}
        <div class="col-sm-12 col-md-6 col-lg-4">
            <div class="card hotel-card h-100">
                <img src="{{ i.hotelPic.url }}" alt="{{ i.hotelName }}" class="card-img-top hotel-img">
                <div class="card-body">
                    <h5 class="card-title">{{ i.hotelName }}</h5>
                    <p class="card-text small">{{ i.description }}</p>
                    <p class="mb-1"><strong>Location:</strong> {{ i.Location }}</p>
                    <p class="mb-1"><strong>State:</strong> {{ i.state }}</p>
                    <p class="mb-2"><strong>Price:</strong> <span class="text-success">${{ i.price }}</span></p>
                    <a href="{% url 'payment' i.hotelId %}" class="btn btn-book w-100 text-white">Book Now</a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="text-center mt-5">
        <h4 class="text-white">No hotels available at the moment.</h4>
    </div>
    {% endif %}
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}

{% block places %}{% endblock %}
